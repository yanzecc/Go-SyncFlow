/* ============================================
   全局样式 - Element Plus 主题覆盖
   ============================================ */

/* ---- 全局基础 ---- */
body {
  font-family: var(--font-family);
  color: var(--color-text-primary);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* ---- Element Plus 主色覆盖 ---- */
:root {
  --el-color-primary: var(--color-primary);
  --el-color-primary-light-3: var(--color-primary-hover);
  --el-color-primary-light-5: #73b2ff;
  --el-color-primary-light-7: #a6d0ff;
  --el-color-primary-light-8: #c6e1ff;
  --el-color-primary-light-9: var(--color-primary-bg);
  --el-color-primary-dark-2: var(--color-primary-active);

  --el-color-success: var(--color-success);
  --el-color-warning: var(--color-warning);
  --el-color-danger: var(--color-error);

  --el-border-radius-base: var(--radius-md);
  --el-border-color: var(--color-border);
  --el-border-color-light: var(--color-border-secondary);
  --el-border-color-lighter: var(--color-border-secondary);

  --el-text-color-primary: var(--color-text-primary);
  --el-text-color-regular: var(--color-text-secondary);
  --el-text-color-secondary: var(--color-text-tertiary);
  --el-text-color-placeholder: var(--color-text-quaternary);

  --el-bg-color: var(--color-bg-container);
  --el-bg-color-page: var(--color-bg-layout);
  --el-fill-color-blank: var(--color-bg-container);

  --el-font-size-base: var(--font-size-base);
  --el-font-size-small: var(--font-size-sm);
  --el-font-size-extra-small: var(--font-size-xs);
}

/* ---- 按钮 ---- */
.el-button {
  border-radius: var(--radius-md);
  font-weight: 500;
  transition: all 0.2s;
}

.el-button--primary {
  background: var(--color-primary);
  border-color: var(--color-primary);
}

.el-button--primary:hover,
.el-button--primary:focus {
  background: var(--color-primary-hover);
  border-color: var(--color-primary-hover);
}

.el-button--primary:active {
  background: var(--color-primary-active);
  border-color: var(--color-primary-active);
}

.el-button--success {
  background: var(--color-success);
  border-color: var(--color-success);
}

.el-button--warning {
  background: var(--color-warning);
  border-color: var(--color-warning);
}

.el-button--danger {
  background: var(--color-error);
  border-color: var(--color-error);
}

/* ---- 输入框/选择器 ---- */
.el-input__wrapper,
.el-textarea__inner {
  border-radius: var(--radius-md) !important;
  transition: box-shadow 0.2s, border-color 0.2s;
}

.el-input__wrapper:focus-within,
.el-input__wrapper.is-focus {
  box-shadow: 0 0 0 2px rgba(22, 119, 255, 0.1) !important;
}

.el-textarea__inner:focus {
  box-shadow: 0 0 0 2px rgba(22, 119, 255, 0.1) !important;
}

.el-select .el-select__wrapper {
  border-radius: var(--radius-md) !important;
}

/* ---- 表格 ---- */
.el-table {
  --el-table-border-color: var(--color-border-secondary);
  --el-table-header-bg-color: var(--color-fill-secondary);
  --el-table-row-hover-bg-color: #f0f7ff;
  font-size: var(--font-size-base);
}

.el-table th.el-table__cell {
  background: var(--color-fill-secondary) !important;
  color: var(--color-text-secondary);
  font-weight: 600;
  font-size: var(--font-size-sm);
}

/* 去除竖线，仅保留水平分割线 */
.el-table--border .el-table__cell {
  border-right: none !important;
}

.el-table--border th.el-table__cell {
  border-right: none !important;
}

.el-table--border .el-table__inner-wrapper::after {
  display: none;
}

.el-table__border-left-patch,
.el-table__border-bottom-patch {
  display: none;
}

.el-table::before,
.el-table--border::after {
  display: none;
}

.el-table--border .el-table__inner-wrapper {
  border: 1px solid var(--color-border-secondary);
  border-radius: var(--radius-lg);
  overflow: hidden;
}

/* ---- 卡片 ---- */
.el-card {
  border-radius: var(--radius-xl);
  border: 1px solid var(--color-border-secondary);
  box-shadow: var(--shadow-sm);
  transition: box-shadow 0.2s;
}

.el-card:hover {
  box-shadow: var(--shadow-md);
}

.el-card__header {
  border-bottom: 1px solid var(--color-border-secondary);
  padding: 16px 20px;
  font-weight: 600;
  color: var(--color-text-primary);
}

/* ---- 标签 ---- */
.el-tag {
  border-radius: var(--radius-sm);
}

.el-tag--success.el-tag--light {
  background: var(--color-success-bg);
  color: var(--color-success);
  border-color: var(--color-success-border);
}

.el-tag--danger.el-tag--light {
  background: var(--color-error-bg);
  color: var(--color-error);
  border-color: var(--color-error-border);
}

.el-tag--warning.el-tag--light {
  background: var(--color-warning-bg);
  color: var(--color-warning);
  border-color: var(--color-warning-border);
}

.el-tag--primary.el-tag--light {
  background: var(--color-primary-bg);
  color: var(--color-primary);
  border-color: var(--color-primary-border);
}

/* ---- Tabs ---- */
.el-tabs--border-card {
  border-radius: var(--radius-xl);
  border-color: var(--color-border-secondary);
  box-shadow: var(--shadow-sm);
  overflow: hidden;
}

.el-tabs--border-card > .el-tabs__header {
  background: var(--color-fill-secondary);
  border-bottom-color: var(--color-border-secondary);
}

.el-tabs--border-card > .el-tabs__header .el-tabs__item.is-active {
  background: var(--color-bg-container);
  border-right-color: var(--color-border-secondary);
  border-left-color: var(--color-border-secondary);
  color: var(--color-primary);
  font-weight: 600;
}

.el-tabs--border-card > .el-tabs__header .el-tabs__item:hover {
  color: var(--color-primary);
}

/* ---- 对话框 ---- */
.el-dialog {
  border-radius: var(--radius-xl);
}

.el-dialog__header {
  padding: 20px 24px 16px;
}

.el-dialog__body {
  padding: 16px 24px 24px;
}

/* ---- 分页器 ---- */
.el-pagination .el-pager li.is-active {
  background: var(--color-primary);
}

/* ---- 开关 ---- */
.el-switch.is-checked .el-switch__core {
  background: var(--color-primary);
  border-color: var(--color-primary);
}

/* ---- 消息提示 ---- */
.el-message-box {
  border-radius: var(--radius-xl);
}

/* ---- 下拉菜单 ---- */
.el-dropdown-menu {
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-lg);
  border-color: var(--color-border-secondary);
}

/* ---- 警告 ---- */
.el-alert {
  border-radius: var(--radius-lg);
}

/* ---- 表单 ---- */
.el-form-item__label {
  color: var(--color-text-secondary);
  font-weight: 500;
}

/* ---- 树 ---- */
.el-tree-node__content:hover {
  background: var(--color-primary-bg);
}

.el-tree-node.is-current > .el-tree-node__content {
  background: var(--color-primary-bg);
  color: var(--color-primary);
}

/* ---- 通用工具类 ---- */
.text-primary { color: var(--color-text-primary); }
.text-secondary { color: var(--color-text-secondary); }
.text-tertiary { color: var(--color-text-tertiary); }
.text-success { color: var(--color-success); }
.text-warning { color: var(--color-warning); }
.text-error { color: var(--color-error); }
.text-brand { color: var(--color-primary); }

/* ---- 页面容器通用 ---- */
.page-container {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-lg);
  min-width: 0;
}

/* ---- 全局自适应修复 ---- */
/* 确保页面内容不会溢出父容器 */
.el-card__body {
  min-width: 0;
}

/* 确保 flex 子元素不会撑破父容器 */
[class*="-page"],
[class*="-container"] {
  min-width: 0;
}

/* 表格容器自适应 */
.el-table {
  width: 100% !important;
}
