import{v as s,k as a,Z as l,D as e,G as i,U as n,u as c,I as t,E as d,F as u,S as o,aB as r,r as v,c as p,ac as m,y as f}from"./vendor-DDTA3iPl.js";import{n as g,o as y,p as k,q as h,v as _,w as b,x,r as w,y as B,z as C,A as F,u as G,j as q,B as z,m as S,l as j,C as D}from"./elementPlus-DW6qdM9Z.js";import{u as I,c as L,_ as R}from"./index-D9Oaf6TO.js";const T={class:"admin-home"},V={class:"welcome-section"},A={class:"welcome-text"},H={class:"quick-stats"},M={class:"stat-item"},N={class:"stat-value"},P={class:"stat-item"},Q={class:"stat-value"},U={class:"status-cards"},E={class:"card-header"},Z={class:"card-body"},J={class:"progress-ring"},K={viewBox:"0 0 100 100"},O=["stroke-dasharray"],W={class:"ring-value"},X={class:"card-detail"},Y={class:"card-header"},$={class:"card-body"},ss={class:"progress-ring"},as={viewBox:"0 0 100 100"},ls=["stroke-dasharray"],es={class:"ring-value"},is={class:"card-detail"},ns={class:"card-header"},cs={class:"card-body"},ts={class:"progress-ring"},ds={viewBox:"0 0 100 100"},us=["stroke-dasharray"],os={class:"ring-value"},rs={class:"card-detail"},vs={class:"status-card success"},ps={class:"card-header"},ms={class:"card-body"},fs={class:"network-stats"},gs={class:"net-item"},ys={class:"net-value"},ks={class:"net-item"},hs={class:"net-value"},_s={class:"section-row"},bs={class:"section-card services-card"},xs={class:"section-header"},ws={class:"services-list"},Bs={class:"service-icon"},Cs={class:"service-info"},Fs={class:"service-status"},Gs={class:"service-item online"},qs={class:"service-icon"},zs={class:"service-info"},Ss={class:"service-status"},js={class:"section-card quick-actions-card"},Ds={class:"section-header"},Is={class:"quick-actions"},Ls={class:"section-card system-info-card"},Rs={class:"section-header"},Ts={class:"info-grid"},Vs={class:"info-item"},As={class:"info-value"},Hs={class:"info-item"},Ms={class:"info-value"},Ns={class:"info-item"},Ps={class:"info-value"},Qs={class:"info-item"},Us={class:"info-value"},Es={class:"info-item"},Zs={class:"info-value"},Js={class:"info-item"},Ks={class:"info-value"},Os=R(s({__name:"AdminHome",setup(s){const R=r(),Os=I(),Ws=v({cpu:{usage:0,cores:0},memory:{used:0,total:0,percent:0},disk:{used:0,total:0,percent:0},network:{inRate:0,outRate:0},database:{status:"ok",type:"sqlite"},runtime:{uptime:"-",goVersion:"",goroutines:0,startTime:""}}),Xs=v("-");let Ys=null;const $s=p(()=>{const s=(new Date).getHours();return s<6?"夜深了":s<9?"早上好":s<12?"上午好":s<14?"中午好":s<18?"下午好":s<22?"晚上好":"夜深了"}),sa=s=>s>=90?"danger":s>=70?"warning":"success",aa=s=>s>=90?"danger":s>=80?"warning":"success",la=async()=>{try{const s=await L.status();s.data.success&&(Ws.value=s.data.data,Xs.value=(new Date).toLocaleTimeString("zh-CN"))}catch(s){}};return a(()=>{la(),Ys=window.setInterval(la,1e4)}),l(()=>{Ys&&clearInterval(Ys)}),(s,a)=>{var l,r,v,p,I,L,Ys,ea,ia,na,ca,ta,da,ua,oa,ra,va,pa,ma,fa,ga,ya,ka,ha,_a,ba,xa,wa,Ba;const Ca=m("el-icon"),Fa=m("el-button"),Ga=m("el-tag");return f(),e("div",T,[i("div",V,[i("div",A,[i("h1",null,"欢迎回来，"+n((null==(l=c(Os).user)?void 0:l.nickname)||(null==(r=c(Os).user)?void 0:r.username)),1),i("p",null,n($s.value)+"，祝您工作愉快！",1)]),i("div",H,[i("div",M,[i("span",N,n((null==(v=Ws.value.runtime)?void 0:v.uptime)||"-"),1),a[5]||(a[5]=i("span",{class:"stat-label"},"运行时长",-1))]),i("div",P,[i("span",Q,n((za=new Date,za.toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"}))),1),a[6]||(a[6]=i("span",{class:"stat-label"},"当前时间",-1))])])]),i("div",U,[i("div",{class:t(["status-card",(qa=(null==(p=Ws.value.cpu)?void 0:p.usage)||0,qa>=90?"danger":qa>=70?"warning":"success")])},[i("div",E,[d(Ca,{class:"card-icon"},{default:u(()=>[d(c(g))]),_:1}),a[7]||(a[7]=i("span",{class:"card-title"},"CPU使用率",-1))]),i("div",Z,[i("div",J,[(f(),e("svg",K,[a[8]||(a[8]=i("circle",{class:"bg",cx:"50",cy:"50",r:"42"},null,-1)),i("circle",{class:"progress",cx:"50",cy:"50",r:"42","stroke-dasharray":2.64*((null==(I=Ws.value.cpu)?void 0:I.usage)||0)+" 264"},null,8,O)])),i("span",W,n(((null==(L=Ws.value.cpu)?void 0:L.usage)||0).toFixed(1))+"%",1)]),i("div",X,[i("span",null,"核心数: "+n((null==(Ys=Ws.value.cpu)?void 0:Ys.cores)||0),1)])])],2),i("div",{class:t(["status-card",sa((null==(ea=Ws.value.memory)?void 0:ea.percent)||0)])},[i("div",Y,[d(Ca,{class:"card-icon"},{default:u(()=>[d(c(y))]),_:1}),a[9]||(a[9]=i("span",{class:"card-title"},"内存使用",-1))]),i("div",$,[i("div",ss,[(f(),e("svg",as,[a[10]||(a[10]=i("circle",{class:"bg",cx:"50",cy:"50",r:"42"},null,-1)),i("circle",{class:"progress",cx:"50",cy:"50",r:"42","stroke-dasharray":2.64*((null==(ia=Ws.value.memory)?void 0:ia.percent)||0)+" 264"},null,8,ls)])),i("span",es,n(((null==(na=Ws.value.memory)?void 0:na.percent)||0).toFixed(1))+"%",1)]),i("div",is,[i("span",null,n(((null==(ca=Ws.value.memory)?void 0:ca.used)||0).toFixed(2))+"GB / "+n(((null==(ta=Ws.value.memory)?void 0:ta.total)||0).toFixed(2))+"GB",1)])])],2),i("div",{class:t(["status-card",aa((null==(da=Ws.value.disk)?void 0:da.percent)||0)])},[i("div",ns,[d(Ca,{class:"card-icon"},{default:u(()=>[d(c(k))]),_:1}),a[11]||(a[11]=i("span",{class:"card-title"},"磁盘使用",-1))]),i("div",cs,[i("div",ts,[(f(),e("svg",ds,[a[12]||(a[12]=i("circle",{class:"bg",cx:"50",cy:"50",r:"42"},null,-1)),i("circle",{class:"progress",cx:"50",cy:"50",r:"42","stroke-dasharray":2.64*((null==(ua=Ws.value.disk)?void 0:ua.percent)||0)+" 264"},null,8,us)])),i("span",os,n(((null==(oa=Ws.value.disk)?void 0:oa.percent)||0).toFixed(1))+"%",1)]),i("div",rs,[i("span",null,n(((null==(ra=Ws.value.disk)?void 0:ra.used)||0).toFixed(1))+"GB / "+n(((null==(va=Ws.value.disk)?void 0:va.total)||0).toFixed(1))+"GB",1)])])],2),i("div",vs,[i("div",ps,[d(Ca,{class:"card-icon"},{default:u(()=>[d(c(h))]),_:1}),a[13]||(a[13]=i("span",{class:"card-title"},"网络流量",-1))]),i("div",ms,[i("div",fs,[i("div",gs,[d(Ca,{class:"up"},{default:u(()=>[d(c(_))]),_:1}),i("span",ys,n(((null==(pa=Ws.value.network)?void 0:pa.outRate)||0).toFixed(2))+" MB/s",1)]),i("div",ks,[d(Ca,{class:"down"},{default:u(()=>[d(c(b))]),_:1}),i("span",hs,n(((null==(ma=Ws.value.network)?void 0:ma.inRate)||0).toFixed(2))+" MB/s",1)])]),a[14]||(a[14]=i("div",{class:"card-detail"},[i("span",null,"实时网络速率")],-1))])])]),i("div",_s,[i("div",bs,[i("div",xs,[i("h3",null,[d(Ca,null,{default:u(()=>[d(c(x))]),_:1}),a[15]||(a[15]=o(" 服务状态",-1))]),d(Fa,{type:"primary",link:"",onClick:la},{default:u(()=>[d(Ca,null,{default:u(()=>[d(c(w))]),_:1}),a[16]||(a[16]=o(" 刷新 ",-1))]),_:1})]),i("div",ws,[i("div",{class:t(["service-item",{online:"ok"===(null==(fa=Ws.value.database)?void 0:fa.status)}])},[i("div",Bs,[d(Ca,null,{default:u(()=>[d(c(B))]),_:1})]),i("div",Cs,[a[17]||(a[17]=i("span",{class:"service-name"},"数据库服务",-1)),i("span",Fs,n((null==(ga=Ws.value.database)?void 0:ga.type)||"SQLite")+" 运行正常",1)]),d(Ga,{type:"ok"===(null==(ya=Ws.value.database)?void 0:ya.status)?"success":"danger",size:"small"},{default:u(()=>{var s;return[o(n("ok"===(null==(s=Ws.value.database)?void 0:s.status)?"在线":"离线"),1)]}),_:1},8,["type"])],2),i("div",Gs,[i("div",qs,[d(Ca,null,{default:u(()=>[d(c(C))]),_:1})]),i("div",zs,[a[18]||(a[18]=i("span",{class:"service-name"},"应用服务",-1)),i("span",Ss,"Go "+n((null==(ka=Ws.value.runtime)?void 0:ka.goVersion)||"")+" | "+n((null==(ha=Ws.value.runtime)?void 0:ha.goroutines)||0)+" goroutines",1)]),d(Ga,{type:"success",size:"small"},{default:u(()=>[...a[19]||(a[19]=[o("在线",-1)])]),_:1})])])]),i("div",js,[i("div",Ds,[i("h3",null,[d(Ca,null,{default:u(()=>[d(c(F))]),_:1}),a[20]||(a[20]=o(" 快捷操作",-1))])]),i("div",Is,[i("div",{class:"action-item",onClick:a[0]||(a[0]=s=>c(R).push("/admin/users/local"))},[d(Ca,null,{default:u(()=>[d(c(G))]),_:1}),a[21]||(a[21]=i("span",null,"本地用户",-1))]),i("div",{class:"action-item",onClick:a[1]||(a[1]=s=>c(R).push("/admin/users/dingtalk"))},[d(Ca,null,{default:u(()=>[d(c(q))]),_:1}),a[22]||(a[22]=i("span",null,"钉钉用户",-1))]),i("div",{class:"action-item",onClick:a[2]||(a[2]=s=>c(R).push("/admin/roles"))},[d(Ca,null,{default:u(()=>[d(c(z))]),_:1}),a[23]||(a[23]=i("span",null,"角色管理",-1))]),i("div",{class:"action-item",onClick:a[3]||(a[3]=s=>c(R).push("/admin/settings"))},[d(Ca,null,{default:u(()=>[d(c(S))]),_:1}),a[24]||(a[24]=i("span",null,"系统设置",-1))]),i("div",{class:"action-item",onClick:a[4]||(a[4]=s=>c(R).push("/admin/security"))},[d(Ca,null,{default:u(()=>[d(c(j))]),_:1}),a[25]||(a[25]=i("span",null,"安全中心",-1))]),i("div",{class:"action-item",onClick:la},[d(Ca,null,{default:u(()=>[d(c(w))]),_:1}),a[26]||(a[26]=i("span",null,"刷新状态",-1))])])])]),i("div",Ls,[i("div",Rs,[i("h3",null,[d(Ca,null,{default:u(()=>[d(c(D))]),_:1}),a[27]||(a[27]=o(" 系统信息",-1))])]),i("div",Ts,[i("div",Vs,[a[28]||(a[28]=i("span",{class:"info-label"},"Go版本",-1)),i("span",As,n((null==(_a=Ws.value.runtime)?void 0:_a.goVersion)||"-"),1)]),i("div",Hs,[a[29]||(a[29]=i("span",{class:"info-label"},"Goroutines",-1)),i("span",Ms,n((null==(ba=Ws.value.runtime)?void 0:ba.goroutines)||0),1)]),i("div",Ns,[a[30]||(a[30]=i("span",{class:"info-label"},"启动时间",-1)),i("span",Ps,n((null==(xa=Ws.value.runtime)?void 0:xa.startTime)||"-"),1)]),i("div",Qs,[a[31]||(a[31]=i("span",{class:"info-label"},"数据库类型",-1)),i("span",Us,n((null==(wa=Ws.value.database)?void 0:wa.type)||"SQLite"),1)]),i("div",Es,[a[32]||(a[32]=i("span",{class:"info-label"},"运行时长",-1)),i("span",Zs,n((null==(Ba=Ws.value.runtime)?void 0:Ba.uptime)||"-"),1)]),i("div",Js,[a[33]||(a[33]=i("span",{class:"info-label"},"最后刷新",-1)),i("span",Ks,n(Xs.value),1)])])])]);var qa,za}}}),[["__scopeId","data-v-4b26c05c"]]);export{Os as default};
